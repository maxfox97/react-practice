{"version":3,"file":"static/js/161.26bc9501.chunk.js","mappings":"+RACA,GAAgB,OAAS,2BAA2B,SAAW,8BCqB/D,EAnBmB,SAACA,GAEhB,IAAIC,EAAO,YAAcD,EAAME,GAC/B,OACI,gBAAKC,UAAWC,EAAAA,OAAW,IAAMA,EAAAA,OAAjC,UACI,UAAC,KAAD,CAASC,GAAIJ,EAAb,WACI,0BACI,gBAAKK,IAAKN,EAAMO,SAEpB,gBAAKJ,UAAWC,EAAAA,SAAhB,SACKJ,EAAMQ,aCZ3B,EAA0B,yBAA1B,EAAkE,8BAAlE,EAA4I,0BCA5I,EAA0B,yBCS1B,EARgB,SAACR,GACb,OACI,gBAAKG,UAAWC,EAAhB,SACKJ,EAAMS,W,UCuBbC,EAAc,SAACV,GAAW,IAAD,EAC3B,GAKIW,EAAAA,EAAAA,IAAQ,CACRC,KAAM,WALNC,EADJ,EACIA,SADJ,IAEIC,UAAaC,EAFjB,EAEiBA,OAAQC,EAFzB,EAEyBA,QACrBC,EAHJ,EAGIA,aACAC,EAJJ,EAIIA,MAWJ,OACI,kBAAMC,SAAUF,GAPH,SAACG,GACdC,QAAQC,IAAIF,GACZpB,EAAMuB,WAAWH,EAAKI,aACtBN,OAIA,WACI,mBAAOO,QAAQ,cAAf,WACI,wCACA,mBACA,6BAAUC,KAAK,OAAOC,YAAY,sBAC1Bd,EAAS,cAAe,CACxBe,SAAU,kKACVC,UAAW,CACPC,MAAO,EACPrB,QAAS,yGAKzB,gBAAKsB,MAAO,CAAEC,OAAQ,IAAtB,UACW,OAANjB,QAAM,IAANA,OAAA,EAAAA,EAAQS,eAAe,wBAAU,OAANT,QAAM,IAANA,GAAA,UAAAA,EAAQS,mBAAR,eAAqBf,UAAW,cAEhE,kBAAOiB,KAAK,SAASO,UAAWjB,QAM5C,EA7DgB,SAAChB,GAEb,IAAMkC,EAAkBlC,EAAMmC,aAAaC,YAAYC,KAAI,SAAAC,GAAC,OAAI,SAAC,EAAD,CAAY9B,KAAM8B,EAAE9B,KAAiBN,GAAIoC,EAAEpC,GAAIK,IAAK+B,EAAE/B,KAAvB+B,EAAEpC,OAC3FqC,EAAmBvC,EAAMmC,aAAaK,aAAaH,KAAI,SAAAI,GAAC,OAAI,SAAC,EAAD,CAAoBvC,GAAIuC,EAAEvC,GAAIO,QAASgC,EAAEhC,SAA3BgC,EAAEvC,OAElF,OACI,iBAAKC,UAAWC,EAAhB,WACI,gBAAKD,UAAWC,EAAhB,SACK8B,KAEL,gBAAK/B,UAAWC,EAAhB,SACKmC,KAEL,0BACI,SAAC7B,EAAD,CAAaa,WAAYvB,EAAMuB,WAAYmB,gBAAiB1C,EAAM0C,wBCYlFC,OAAOC,MAAQA,IAEf,OAAeC,EAAAA,EAAAA,KACXC,EAAAA,EAAAA,KAzBkB,SAACC,GAEnB,MAAO,CACHZ,aAAcY,EAAMZ,aACpBa,eAAgBD,EAAMZ,aAAaa,mBAGlB,SAACC,GACtB,MAAO,CACH1B,WAAY,SAACd,GACT,IAAIyC,GAASC,EAAAA,EAAAA,GAAwB1C,GACrCwC,EAASC,SChBW,SAACE,GAAe,IAEtCC,EAFqC,0IAGvC,WACI,OAAKC,KAAKtD,MAAMuD,QACT,SAACH,GAAD,UAAeE,KAAKtD,SADI,SAAC,KAAD,CAAUK,GAAG,eAJT,GAEXmD,EAAAA,WAchC,OAHqCV,EAAAA,EAAAA,KAJJ,SAACC,GAAD,MAAY,CACzCQ,OAAQR,EAAMU,KAAKF,UAGcT,CAAoCO,KDgB7E,CAGEK,I","sources":["webpack://my-app/./src/componets/Dialogs/DialogItem/DialogItem.module.css?6582","componets/Dialogs/DialogItem/DialogItem.jsx","webpack://my-app/./src/componets/Dialogs/Dialogs.module.css?887c","webpack://my-app/./src/componets/Dialogs/Message/Message.module.css?6eb5","componets/Dialogs/Message/Message.jsx","componets/Dialogs/Dialogs.jsx","componets/Dialogs/DialogsContainer.jsx","hoc/withAuthRedirect.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialog\":\"DialogItem_dialog__UpJjd\",\"nameText\":\"DialogItem_nameText__di1AR\"};","import { NavLink } from \"react-router-dom\";\nimport s from \"./DialogItem.module.css\";\n\nconst DialogItem = (props) => {\n\n    let path = \"/dialogs/\" + props.id;\n    return (\n        <div className={s.dialog + ' ' + s.active}>\n            <NavLink to={path}>\n                <div>\n                    <img src={props.url}></img>\n                </div>\n                <div className={s.nameText}>\n                    {props.name}\n                </div>\n            </NavLink>\n        </div >\n    )\n}\n\n\n\nexport default DialogItem;","// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__x+LCs\",\"dialogsItems\":\"Dialogs_dialogsItems__tH-gW\",\"active\":\"Dialogs_active__Vcuu9\",\"messages\":\"Dialogs_messages__qYn-K\"};","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Message_message__L82xX\"};","import s from \"./Message.module.css\";\n\nconst Message = (props) => {\n    return (\n        <div className={s.message}>\n            {props.message}\n        </div>\n    )\n}\n\nexport default Message;","import DialogItem from \"./DialogItem/DialogItem\";\nimport s from \"./Dialogs.module.css\"\nimport Message from \"./Message/Message\";\nimport React from \"react\";\nimport { useForm } from 'react-hook-form';\n\n\nconst Dialogs = (props) => {\n\n    const dialogsElements = props.messagesPage.dialogsData.map(d => <DialogItem name={d.name} key={d.id} id={d.id} url={d.url} />);\n    const messagesElements = props.messagesPage.messagesData.map(m => <Message key={m.id} id={m.id} message={m.message} />);\n\n    return (\n        <div className={s.dialogs}>\n            <div className={s.dialogsItems}>\n                {dialogsElements}\n            </div>\n            <div className={s.messages}>\n                {messagesElements}\n            </div>\n            <div>\n                <MessageForm addMessage={props.addMessage} onMessageChange={props.onMessageChange} />\n            </div>\n        </div >\n    );\n};\n\n\nconst MessageForm = (props) => {\n    const {\n        register,\n        formState: { errors, isValid },\n        handleSubmit,\n        reset,\n    } = useForm({\n        mode: 'onBlur',\n    });\n\n    const onSubmit = (data) => {\n        console.log(data);\n        props.addMessage(data.messageText)\n        reset();\n    }\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <label htmlFor=\"MessageText\">\n                <span>Message:</span>\n                <br />\n                <textarea type=\"text\" placeholder=\"Enter your Message\"\n                    {...register('messageText', {\n                        required: \"Поле обязательно к заполнению\",\n                        minLength: {\n                            value: 5,\n                            message: 'Минимум 5 символов'\n                        }\n                    })}\n                />\n            </label>\n            <div style={{ height: 40 }}>\n                {errors?.messageText && <p>{errors?.messageText?.message || 'Error!'}</p>}\n            </div>\n            <input type=\"submit\" disabled={!isValid} />\n        </form>\n    )\n}\n\n\nexport default Dialogs;","\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\nimport { addMessageActionCreator } from \"../redux/dialogs-reducer\";\nimport store from \"../redux/store\";\nimport Dialogs from \"./Dialogs\";\n\n\n\n\nlet mapStateToProps = (state) => {\n\n    return {\n        messagesPage: state.messagesPage,\n        newMessageText: state.messagesPage.newMessageText,\n    }\n}\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addMessage: (message) => {\n            let action = addMessageActionCreator(message)\n            dispatch(action);\n        },\n\n    }\n}\n\n\n\n//let AuthRedirectComponent = withAuthRedirect(Dialogs);\n//const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\n\nwindow.store = store;\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthRedirect\n)(Dialogs);","//IT'S HOC !!!\n\nimport { Navigate } from \"react-router-dom\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\n\nexport const withAuthRedirect = (Component) => {\n\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Navigate to='/login' />\n            return <Component {...this.props} />\n        }\n    }\n\n    let mapStateToPropsForRedirect = (state) => ({\n        isAuth: state.auth.isAuth,\n    })\n\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n\n    return ConnectedAuthRedirectComponent;\n}"],"names":["props","path","id","className","s","to","src","url","name","message","MessageForm","useForm","mode","register","formState","errors","isValid","handleSubmit","reset","onSubmit","data","console","log","addMessage","messageText","htmlFor","type","placeholder","required","minLength","value","style","height","disabled","dialogsElements","messagesPage","dialogsData","map","d","messagesElements","messagesData","m","onMessageChange","window","store","compose","connect","state","newMessageText","dispatch","action","addMessageActionCreator","Component","RedirectComponent","this","isAuth","React","auth","Dialogs"],"sourceRoot":""}