{"version":3,"file":"static/js/38.cbc5bc36.chunk.js","mappings":"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","sources":["webpack://my-app/./src/componets/Profile/MyPosts/Post/Post.module.css?87d2","componets/Profile/MyPosts/Post/Post.jsx","webpack://my-app/./src/componets/Profile/MyPosts/MyPosts.module.css?af06","componets/Profile/MyPosts/MyPosts.jsx","componets/Profile/MyPosts/MyPostsContainer.jsx","webpack://my-app/./src/componets/Profile/ProfileInfo/ProfileInfo.module.css?6a76","componets/Profile/ProfileStatus/ProfileStatus.jsx","componets/Profile/ProfileStatus/ProfileStatusWithHooks.jsx","componets/Profile/ProfileInfo/ProfileInfo.jsx","componets/Profile/Profile.jsx","componets/Profile/ProfileContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__sxtmb\",\"ava\":\"Post_ava__T+JWQ\",\"like\":\"Post_like__a4vW3\"};","\nimport s from \"./Post.module.css\";\n\n\nconst Post = (props) => {\n    return (\n        <div className={s.posts}>\n            <div className={s.item}>\n                <div className={s.ava}>\n                    <img src=\"https://cdn-icons-png.flaticon.com/512/147/147144.png\"></img>\n                </div>\n                {props.message}\n                <div className={s.like}>\n                    <span>like {props.likesCount}</span>\n                </div>\n\n            </div>\n        </div>\n    );\n};\n\nexport default Post;","// extracted by mini-css-extract-plugin\nexport default {\"posts\":\"MyPosts_posts__cVBHT\"};","import React from \"react\";\nimport Post from \"./Post/Post\";\nimport s from \"./MyPosts.module.css\";\nimport { useForm } from 'react-hook-form';\n\nconst MyPosts = (props) => {\n\n    let postsElements = props.postsData.map((p, index) => <Post message={p.message} likesCount={p.likesCount} id={p.id} key={index} />);\n\n    return (\n        <div className={s.posts}>\n            <h3>My posts</h3>\n            <div>\n                <AddPostForm addPost={props.addPost} updateNewPostText={props.updateNewPostText} />\n            </div>\n            {postsElements}\n        </div>\n    );\n};\n\n\nconst AddPostForm = (props) => {\n\n    const {\n        register,\n        formState: { errors, isValid },\n        handleSubmit,\n        reset,\n    } = useForm({\n        mode: 'onBlur'\n    });\n\n    const onSubmit = (data) => {\n        console.log(data.addPostText);\n        props.addPost(data.addPostText);\n        reset();\n    }\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <label>\n                <span>Add Post:</span>\n                <br />\n                <textarea type=\"text\"\n                    {...register('addPostText', {\n                        required: \"Поле обязательно к заполнению\",\n                        minLength: {\n                            value: 5,\n                            message: 'Минимум 5 символов'\n                        }\n                    })}\n                />\n            </label>\n            <div style={{ height: 40 }}>\n                {errors?.addPostText && <p>{errors?.addPostText?.message || 'Error!'}</p>}\n            </div>\n            <input type=\"submit\" disabled={!isValid} />\n        </form>\n    )\n}\n\nexport default MyPosts;\n","import { connect } from \"react-redux\";\nimport { addPostActionCreator } from \"../../redux/profile-reducer\";\nimport store from \"../../redux/store\";\nimport MyPosts from \"./MyPosts\";\n\n\nlet matStateToProps = (state) => {\n\n    return {\n        newPostText: state.profilePage.newPostText,\n        postsData: state.profilePage.postsData\n    }\n};\n\nlet mapDispatchToProps = (dispatch) => {\n\n    return {\n        addPost: (text) => {\n            let action = addPostActionCreator(text)\n            dispatch(action);\n        },\n    }\n}\n\nlet MyPostsContainer = connect(matStateToProps, mapDispatchToProps)(MyPosts);\n\nwindow.store = store;\n\nexport default MyPostsContainer;\n","// extracted by mini-css-extract-plugin\nexport default {\"profileInfoBlock\":\"ProfileInfo_profileInfoBlock__RiWQ8\",\"profileImg\":\"ProfileInfo_profileImg__d7kZm\"};","import React from \"react\";\n\n\nclass ProfileStatus extends React.Component {\n\n\n    state = {\n        edtMode: false,\n        status: this.props.status,\n    }\n\n    activateEditMode = () => {\n\n        this.setState({\n            editMode: true,\n        })\n    }\n\n    diactivateEditMode = () => {\n\n        this.setState({\n            editMode: false,\n        });\n\n        this.props.updateStatus(this.state.status)\n    }\n\n    onStatusChange = (e) => {\n\n        this.setState({\n            status: e.currentTarget.value,\n        })\n\n    }\n\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if (prevProps.status !== this.props.status) {\n            this.setState({\n                status: this.props.status,\n            })\n        }\n\n    }\n\n    render() {\n\n        return (\n            <div>\n                {!this.state.editMode &&\n                    <div>\n                        <span onDoubleClick={this.activateEditMode}>{this.props.status || '----'}</span>\n                    </div>\n                }\n                {this.state.editMode &&\n                    <div>\n                        <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.diactivateEditMode} value={this.state.status} />\n                    </div>\n                }\n\n            </div>\n        )\n    }\n}\n\n\nexport default ProfileStatus;","import React, { useEffect, useState } from \"react\";\n\n\nconst ProfileStatusWithHooks = (props) => {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect(() => {\n        setStatus(props.status)\n    }, [props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true)\n    }\n\n    const diactivateEditMode = () => {\n\n        setEditMode(false)\n\n        props.updateStatus(status)\n    }\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value)\n    }\n\n    return (\n        <div>\n            {!editMode &&\n                < div >\n                    <span onDoubleClick={activateEditMode}>{props.status || '----'} </span>\n                </div>\n            }\n            {editMode &&\n\n                <div>\n                    <input onChange={onStatusChange} autoFocus={true} value={status} onBlur={diactivateEditMode} />\n                </div>\n            }\n\n        </div >\n    )\n}\n\nexport default ProfileStatusWithHooks;","import s from \"./ProfileInfo.module.css\";\nimport Preloader from \"../../common/preloader/preloader\"\nimport ProfileStatus from \"../ProfileStatus/ProfileStatus\";\nimport ProfileStatusWithHooks from \"../ProfileStatus/ProfileStatusWithHooks\";\n\n\nconst ProfileInfo = ({ profile, status, updateStatus }) => {\n  if (!profile) {\n    return <Preloader />\n  }\n  if (profile.photos.large === null) {\n    profile.photos.large = 'https://gavrila-alandala.ro/wp-content/uploads/2019/10/joker-4.jpg'\n  }\n\n  return (\n    <div className={s.profileInfoBlock}>\n      <div>\n        <img src={profile.photos.large} />\n        <br />\n        <span>{profile.aboutMe}</span>\n        <br />\n        <span>{profile.fullName}</span>\n        <br />\n        <span>{profile.userId}</span>\n        <br />\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\n\nconst Profile = (props) => {\n\n  return (\n    <div>\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { setUserProfileThunk, getStatus, updateStatus } from '../redux/profile-reducer'\nimport Profile from './Profile';\nimport { useParams } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { useNavigate } from 'react-router-dom';\n\n\nlet ProfileContainer = (props) => {\n\n\n  let { userId } = useParams();\n  let navigate = useNavigate();\n  useEffect(() => {\n    if (!userId) {\n      userId = props.authorisedUserId;\n      // userId = 23398;\n      if (!userId) {\n        navigate(\"/login\");\n      }\n    }\n    props.setUserProfileThunk(userId);\n\n    props.getStatus(userId);\n\n  }, []);\n  return (\n    <Profile\n      {...props}\n      profile={props.profile}\n      status={props.status}\n      updateStatus={props.updateStatus} />\n  )\n}\n\nlet mapStateToProps = (state) => ({\n\n  profile: state.profilePage.profile,\n  status: state.profilePage.status,\n  authorisedUserId: state.auth.userId,\n  isAuth: state.auth.isAuth,\n})\n\n\nexport default compose(\n  connect(mapStateToProps, { setUserProfileThunk, getStatus, updateStatus }),\n)(ProfileContainer);\n\n"],"names":["props","className","s","src","message","likesCount","AddPostForm","useForm","mode","register","formState","errors","isValid","handleSubmit","reset","onSubmit","data","console","log","addPostText","addPost","type","required","minLength","value","style","height","disabled","postsElements","postsData","map","p","index","id","updateNewPostText","MyPostsContainer","connect","state","newPostText","profilePage","dispatch","text","action","addPostActionCreator","MyPosts","window","store","React","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","profile","photos","large","aboutMe","fullName","userId","compose","authorisedUserId","auth","isAuth","setUserProfileThunk","getStatus","useParams","navigate","useNavigate"],"sourceRoot":""}